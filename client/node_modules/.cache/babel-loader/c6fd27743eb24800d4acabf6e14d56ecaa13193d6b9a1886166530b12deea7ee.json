{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  items: [],\n  total: 0\n};\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      const {\n        product,\n        quantity,\n        customization\n      } = action.payload;\n      const existingItem = state.items.find(item => item.product === product && JSON.stringify(item.customization) === JSON.stringify(customization));\n      if (existingItem) {\n        existingItem.quantity += quantity;\n      } else {\n        state.items.push({\n          product,\n          quantity,\n          customization\n        });\n      }\n\n      // Update total\n      state.total = state.items.reduce((total, item) => {\n        return total + item.price * item.quantity;\n      }, 0);\n    },\n    removeFromCart: (state, action) => {\n      const index = state.items.findIndex(item => item.product === action.payload.product && JSON.stringify(item.customization) === JSON.stringify(action.payload.customization));\n      if (index !== -1) {\n        state.items.splice(index, 1);\n      }\n\n      // Update total\n      state.total = state.items.reduce((total, item) => {\n        return total + item.price * item.quantity;\n      }, 0);\n    },\n    updateQuantity: (state, action) => {\n      const {\n        product,\n        quantity,\n        customization\n      } = action.payload;\n      const item = state.items.find(item => item.product === product && JSON.stringify(item.customization) === JSON.stringify(customization));\n      if (item) {\n        item.quantity = quantity;\n      }\n\n      // Update total\n      state.total = state.items.reduce((total, item) => {\n        return total + item.price * item.quantity;\n      }, 0);\n    },\n    clearCart: state => {\n      state.items = [];\n      state.total = 0;\n    }\n  }\n});\nexport const {\n  addToCart,\n  removeFromCart,\n  updateQuantity,\n  clearCart\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","items","total","cartSlice","name","reducers","addToCart","state","action","product","quantity","customization","payload","existingItem","find","item","JSON","stringify","push","reduce","price","removeFromCart","index","findIndex","splice","updateQuantity","clearCart","actions","reducer"],"sources":["C:/Users/Madan Sai/OneDrive/Documents/NEW PROJECT/client/src/features/cart/cartSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  items: [],\r\n  total: 0,\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState,\r\n  reducers: {\r\n    addToCart: (state, action) => {\r\n      const { product, quantity, customization } = action.payload;\r\n      const existingItem = state.items.find(\r\n        (item) => item.product === product && \r\n        JSON.stringify(item.customization) === JSON.stringify(customization)\r\n      );\r\n\r\n      if (existingItem) {\r\n        existingItem.quantity += quantity;\r\n      } else {\r\n        state.items.push({\r\n          product,\r\n          quantity,\r\n          customization,\r\n        });\r\n      }\r\n\r\n      // Update total\r\n      state.total = state.items.reduce((total, item) => {\r\n        return total + (item.price * item.quantity);\r\n      }, 0);\r\n    },\r\n    removeFromCart: (state, action) => {\r\n      const index = state.items.findIndex(\r\n        (item) => item.product === action.payload.product &&\r\n        JSON.stringify(item.customization) === JSON.stringify(action.payload.customization)\r\n      );\r\n\r\n      if (index !== -1) {\r\n        state.items.splice(index, 1);\r\n      }\r\n\r\n      // Update total\r\n      state.total = state.items.reduce((total, item) => {\r\n        return total + (item.price * item.quantity);\r\n      }, 0);\r\n    },\r\n    updateQuantity: (state, action) => {\r\n      const { product, quantity, customization } = action.payload;\r\n      const item = state.items.find(\r\n        (item) => item.product === product &&\r\n        JSON.stringify(item.customization) === JSON.stringify(customization)\r\n      );\r\n\r\n      if (item) {\r\n        item.quantity = quantity;\r\n      }\r\n\r\n      // Update total\r\n      state.total = state.items.reduce((total, item) => {\r\n        return total + (item.price * item.quantity);\r\n      }, 0);\r\n    },\r\n    clearCart: (state) => {\r\n      state.items = [];\r\n      state.total = 0;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addToCart, removeFromCart, updateQuantity, clearCart } = cartSlice.actions;\r\n\r\nexport default cartSlice.reducer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}